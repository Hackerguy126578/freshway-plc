<script>
  // On page load:
  const user = JSON.parse(localStorage.getItem("robloxUser"));
  if (!user) {
    alert("You must log in first!");
    window.location.href = "/";
  } else {
    // Populate username and role
    document.getElementById("username").textContent = user.username;
    document.getElementById("role").textContent = user.roleName;
  }

  function logout() {
    fetch('/logout')
      .then(() => {
        localStorage.removeItem("robloxUser");
        window.location.href = "/";
      });
  }
</script>

<div>
  <p>Username: <span id="username"></span></p>
  <p>Role: <span id="role"></span></p>
  <button onclick="logout()">Logout</button>
</div>
